--- 
title: tenant_activity_logs
hide_title: false
hide_table_of_contents: false
keywords:
  - tenant_activity_logs
  - monitor
  - azure
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage azure resources using SQL
custom_edit_url: null
image: /img/stackql-azure-provider-featured-image.png
---

import CopyableCode from '@site/src/components/CopyableCode/CopyableCode';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Creates, updates, deletes, gets or lists a <code>tenant_activity_logs</code> resource.

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><code>tenant_activity_logs</code></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><CopyableCode code="azure.monitor.tenant_activity_logs" /></td></tr>
</tbody></table>

## Fields

The following fields are returned by `SELECT` queries:

<Tabs
    defaultValue="list"
    values={[
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="list">

Successful request to get a page of events in the tenant activity logs

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><CopyableCode code="id" /></td>
    <td><code>string</code></td>
    <td>the Id of this event as required by ARM for RBAC. It contains the EventDataID and a timestamp information.</td>
</tr>
<tr>
    <td><CopyableCode code="authorization" /></td>
    <td><code>object</code></td>
    <td>The sender authorization information.</td>
</tr>
<tr>
    <td><CopyableCode code="caller" /></td>
    <td><code>string</code></td>
    <td>the email address of the user who has performed the operation, the UPN claim or SPN claim based on availability.</td>
</tr>
<tr>
    <td><CopyableCode code="category" /></td>
    <td><code>object</code></td>
    <td>The localizable string class.</td>
</tr>
<tr>
    <td><CopyableCode code="claims" /></td>
    <td><code>object</code></td>
    <td>key value pairs to identify ARM permissions.</td>
</tr>
<tr>
    <td><CopyableCode code="correlationId" /></td>
    <td><code>string</code></td>
    <td>the correlation Id, usually a GUID in the string format. The correlation Id is shared among the events that belong to the same uber operation.</td>
</tr>
<tr>
    <td><CopyableCode code="description" /></td>
    <td><code>string</code></td>
    <td>the description of the event.</td>
</tr>
<tr>
    <td><CopyableCode code="eventDataId" /></td>
    <td><code>string</code></td>
    <td>the event data Id. This is a unique identifier for an event.</td>
</tr>
<tr>
    <td><CopyableCode code="eventName" /></td>
    <td><code>object</code></td>
    <td>The localizable string class.</td>
</tr>
<tr>
    <td><CopyableCode code="eventTimestamp" /></td>
    <td><code>string (date-time)</code></td>
    <td>the timestamp of when the event was generated by the Azure service processing the request corresponding the event. It in ISO 8601 format.</td>
</tr>
<tr>
    <td><CopyableCode code="httpRequest" /></td>
    <td><code>object</code></td>
    <td>the HTTP request info. Usually includes the 'clientRequestId', 'clientIpAddress' (IP address of the user who initiated the event) and 'method' (HTTP method e.g. PUT).</td>
</tr>
<tr>
    <td><CopyableCode code="level" /></td>
    <td><code>string</code></td>
    <td>the event level</td>
</tr>
<tr>
    <td><CopyableCode code="operationId" /></td>
    <td><code>string</code></td>
    <td>It is usually a GUID shared among the events corresponding to single operation. This value should not be confused with EventName.</td>
</tr>
<tr>
    <td><CopyableCode code="operationName" /></td>
    <td><code>object</code></td>
    <td>The localizable string class.</td>
</tr>
<tr>
    <td><CopyableCode code="properties" /></td>
    <td><code>object</code></td>
    <td>the set of &lt;Key, Value&gt; pairs (usually a Dictionary&lt;String, String&gt;) that includes details about the event.</td>
</tr>
<tr>
    <td><CopyableCode code="resourceGroupName" /></td>
    <td><code>string</code></td>
    <td>the resource group name of the impacted resource.</td>
</tr>
<tr>
    <td><CopyableCode code="resourceId" /></td>
    <td><code>string</code></td>
    <td>the resource uri that uniquely identifies the resource that caused this event.</td>
</tr>
<tr>
    <td><CopyableCode code="resourceProviderName" /></td>
    <td><code>object</code></td>
    <td>The localizable string class.</td>
</tr>
<tr>
    <td><CopyableCode code="resourceType" /></td>
    <td><code>object</code></td>
    <td>The localizable string class.</td>
</tr>
<tr>
    <td><CopyableCode code="status" /></td>
    <td><code>object</code></td>
    <td>The localizable string class.</td>
</tr>
<tr>
    <td><CopyableCode code="subStatus" /></td>
    <td><code>object</code></td>
    <td>The localizable string class.</td>
</tr>
<tr>
    <td><CopyableCode code="submissionTimestamp" /></td>
    <td><code>string (date-time)</code></td>
    <td>the timestamp of when the event became available for querying via this API. It is in ISO 8601 format. This value should not be confused eventTimestamp. As there might be a delay between the occurrence time of the event, and the time that the event is submitted to the Azure logging infrastructure.</td>
</tr>
<tr>
    <td><CopyableCode code="subscriptionId" /></td>
    <td><code>string</code></td>
    <td>the Azure subscription Id usually a GUID.</td>
</tr>
<tr>
    <td><CopyableCode code="tenantId" /></td>
    <td><code>string</code></td>
    <td>the Azure tenant Id</td>
</tr>
</tbody>
</table>
</TabItem>
</Tabs>

## Methods

The following methods are available for this resource:

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Accessible by</th>
    <th>Required Params</th>
    <th>Optional Params</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><a href="#list"><CopyableCode code="list" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td></td>
    <td><a href="#parameter-$filter"><code>$filter</code></a>, <a href="#parameter-$select"><code>$select</code></a></td>
    <td>Gets the Activity Logs for the Tenant.<br />Everything that is applicable to the API to get the Activity Logs for the subscription is applicable to this API (the parameters, $filter, etc.).<br />One thing to point out here is that this API does *not* retrieve the logs at the individual subscription of the tenant but only surfaces the logs that were generated at the tenant level.</td>
</tr>
</tbody>
</table>

## Parameters

Parameters can be passed in the `WHERE` clause of a query. Check the [Methods](#methods) section to see which parameters are required or optional for each operation.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr id="parameter-$filter">
    <td><CopyableCode code="$filter" /></td>
    <td><code>string</code></td>
    <td>Reduces the set of data collected. <br />The **$filter** is very restricted and allows only the following patterns.<br />- List events for a resource group: $filter=eventTimestamp ge '&lt;Start Time&gt;' and eventTimestamp le '&lt;End Time&gt;' and eventChannels eq 'Admin, Operation' and resourceGroupName eq '&lt;ResourceGroupName&gt;'.<br />- List events for resource: $filter=eventTimestamp ge '&lt;Start Time&gt;' and eventTimestamp le '&lt;End Time&gt;' and eventChannels eq 'Admin, Operation' and resourceUri eq '&lt;ResourceURI&gt;'.<br />- List events for a subscription: $filter=eventTimestamp ge '&lt;Start Time&gt;' and eventTimestamp le '&lt;End Time&gt;' and eventChannels eq 'Admin, Operation'.<br />- List events for a resource provider: $filter=eventTimestamp ge '&lt;Start Time&gt;' and eventTimestamp le '&lt;End Time&gt;' and eventChannels eq 'Admin, Operation' and resourceProvider eq '&lt;ResourceProviderName&gt;'.<br />- List events for a correlation Id: api-version=2014-04-01&$filter=eventTimestamp ge '2014-07-16T04:36:37.6407898Z' and eventTimestamp le '2014-07-20T04:36:37.6407898Z' and eventChannels eq 'Admin, Operation' and correlationId eq '&lt;CorrelationID&gt;'.<br />**NOTE**: No other syntax is allowed.</td>
</tr>
<tr id="parameter-$select">
    <td><CopyableCode code="$select" /></td>
    <td><code>string</code></td>
    <td>Used to fetch events with only the given properties.<br />The **$select** argument is a comma separated list of property names to be returned. Possible values are: *authorization*, *claims*, *correlationId*, *description*, *eventDataId*, *eventName*, *eventTimestamp*, *httpRequest*, *level*, *operationId*, *operationName*, *properties*, *resourceGroupName*, *resourceProviderName*, *resourceId*, *status*, *submissionTimestamp*, *subStatus*, *subscriptionId*</td>
</tr>
</tbody>
</table>

## `SELECT` examples

<Tabs
    defaultValue="list"
    values={[
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="list">

Gets the Activity Logs for the Tenant.<br />Everything that is applicable to the API to get the Activity Logs for the subscription is applicable to this API (the parameters, $filter, etc.).<br />One thing to point out here is that this API does *not* retrieve the logs at the individual subscription of the tenant but only surfaces the logs that were generated at the tenant level.

```sql
SELECT
id,
authorization,
caller,
category,
claims,
correlationId,
description,
eventDataId,
eventName,
eventTimestamp,
httpRequest,
level,
operationId,
operationName,
properties,
resourceGroupName,
resourceId,
resourceProviderName,
resourceType,
status,
subStatus,
submissionTimestamp,
subscriptionId,
tenantId
FROM azure.monitor.tenant_activity_logs
WHERE $filter = '{{ $filter }}'
AND $select = '{{ $select }}'
;
```
</TabItem>
</Tabs>
